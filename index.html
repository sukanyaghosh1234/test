<!DOCTYPE HTML>
<html>
    <head>
        <link rel="icon" type="image" href="t1.jpg"/>
        <title>Tic Tac Toe</title>
        <link rel="stylesheet" type="text/css" href="css3.css"/>
        <script type="text/javascript">
        var painted;
        var content;
        var winningCombinations;
        var turn = 0;
        var theCanvas;
        var c;
        var ctx;
        var squaresFilled = 0;
        var w;
        var y;
        var sq1="canvas1";
        var sq2="canvas2";
        var sq3="canvas3";
        var sq4="canvas4";
        var sq5="canvas5";
        var sq6="canvas6";
        var sq7="canvas7";
        var sq8="canvas8";
        var sq9="canvas9";
        var win=false;
        window.onload=function(){
            painted=new Array();
            content=new Array();
            for(var l=0;l<=8;l++){
                painted[l]=false;
                content[l]='';
              }  
           }
           function canvasClicked(canvasNumber){
               console.log(squaresFilled);
               
                    if(squaresFilled==9){
                      turn=0;
   
                       alert("Game Over");
                        location.reload();
                    }
                theCanvas="canvas"+canvasNumber;
                c=document.getElementById(theCanvas);
                ctx=c.getContext("2d");
                if(painted[canvasNumber-1]==false)
                {
                    if(turn%2==0){
                         ctx.beginPath();
                         ctx.moveTo(10,10);
                         ctx.lineTo(90,90);
                         ctx.moveTo(90,10);
                         ctx.lineTo(10,90);
                         ctx.lineWidth=5;
                         ctx.strokeStyle="white";
                         ctx.stroke();
                         ctx.closePath();
                        content[canvasNumber-1]='X';
                        turn++;
                        painted[canvasNumber-1]=true;
                        squaresFilled++;
                        checkwin(content[canvasNumber-1]);
                        if(win==false || squaresFilled!=9){
                        Oplay();
                        }
                    }
                }
                    else 
                    alert("that space is already occupied");
                
           };
           function Oplay(){
            win123_sq3=((content[0]=='O'&&content[1]=='O')&&content[2]=='')
            win123_sq2=((content[0]=='O'&&content[2]=='O')&&content[1]=='')
            win123_sq1=((content[1]=='O'&&content[2]=='O')&&content[0]=='')
               
            win456_sq6=((content[3]=='O'&&content[4]=='O')&&content[5]=='')
            win456_sq5=((content[3]=='O'&&content[5]=='O')&&content[4]=='')
            win456_sq4=((content[4]=='O'&&content[5]=='O')&&content[3]=='')
               
            win789_sq9=((content[6]=='O'&&content[7]=='O')&&content[8]=='')
            win789_sq8=((content[6]=='O'&&content[8]=='O')&&content[7]=='')
            win789_sq7=((content[7]=='O'&&content[8]=='O')&&content[6]=='')
            
            win147_sq7=((content[0]=='O'&&content[3]=='O')&&content[6]=='')
            win147_sq4=((content[0]=='O'&&content[6]=='O')&&content[3]=='')
            win147_sq1=((content[3]=='O'&&content[6]=='O')&&content[0]=='')
               
            win528_sq8=((content[4]=='O'&&content[1]=='O')&&content[7]=='')
            win528_sq2=((content[4]=='O'&&content[7]=='O')&&content[1]=='')
            win528_sq5=((content[1]=='O'&&content[7]=='O')&&content[4]=='')
               
            win693_sq3=((content[5]=='O'&&content[8]=='O')&&content[2]=='')
            win693_sq9=((content[5]=='O'&&content[2]=='O')&&content[8]=='')
            win693_sq6=((content[8]=='O'&&content[2]=='O')&&content[5]=='')
               
            win159_sq9=((content[0]=='O'&&content[4]=='O')&&content[8]=='')
            win159_sq5=((content[0]=='O'&&content[8]=='O')&&content[4]=='')
            win159_sq1=((content[4]=='O'&&content[8]=='O')&&content[0]=='')
               
            win573_sq3=((content[4]=='O'&&content[6]=='O')&&content[2]=='')
            win573_sq7=((content[4]=='O'&&content[2]=='O')&&content[6]=='')
            win573_sq5=((content[6]=='O'&&content[2]=='O')&&content[4]=='')
               
            win123_sq3=((content[0]=='X'&&content[1]=='X')&&content[2]=='')
            win123_sq2=((content[0]=='X'&&content[2]=='X')&&content[1]=='')
            win123_sq1=((content[1]=='X'&&content[2]=='X')&&content[0]=='')
               
            win456_sq6=((content[3]=='X'&&content[4]=='X')&&content[5]=='')
            win456_sq5=((content[3]=='X'&&content[5]=='X')&&content[4]=='')
            win456_sq4=((content[4]=='X'&&content[5]=='X')&&content[3]=='')
               
            win789_sq9=((content[6]=='X'&&content[7]=='X')&&content[8]=='')
            win789_sq8=((content[6]=='X'&&content[8]=='X')&&content[7]=='')
            win789_sq7=((content[7]=='X'&&content[8]=='X')&&content[6]=='')
            
            win147_sq7=((content[0]=='X'&&content[3]=='X')&&content[6]=='')
            win147_sq4=((content[0]=='X'&&content[6]=='X')&&content[3]=='')
            win147_sq1=((content[3]=='X'&&content[6]=='X')&&content[0]=='')
               
            win528_sq8=((content[4]=='X'&&content[1]=='X')&&content[7]=='')
            win528_sq2=((content[4]=='X'&&content[7]=='X')&&content[1]=='')
            win528_sq5=((content[1]=='X'&&content[7]=='X')&&content[4]=='')
               
            win693_sq3=((content[5]=='X'&&content[8]=='X')&&content[2]=='')
            win693_sq9=((content[5]=='X'&&content[2]=='X')&&content[8]=='')
            win693_sq6=((content[8]=='X'&&content[2]=='X')&&content[5]=='')
               
            win159_sq9=((content[0]=='X'&&content[4]=='X')&&content[8]=='')
            win159_sq5=((content[0]=='X'&&content[8]=='X')&&content[4]=='')
            win159_sq1=((content[4]=='X'&&content[8]=='X')&&content[0]=='')
               
            win573_sq3=((content[4]=='X'&&content[6]=='X')&&content[2]=='')
            win573_sq7=((content[4]=='X'&&content[2]=='X')&&content[6]=='')
            win573_sq5=((content[6]=='X'&&content[2]=='X')&&content[4]=='')
           if(win123_sq3){
             Oplaying(3);
           } else if(win123_sq2){
            Oplaying(2);
           }else if(win123_sq1){
            Oplaying(1);
           }
           
           else if(win456_sq6){
            Oplaying(6);
           }else if(win456_sq5){
            Oplaying(5);
           }else if(win456_sq4){
            Oplaying(4);
           }
           
           else if(win789_sq9){
            Oplaying(9);
           }else if(win789_sq8){
            Oplaying(8);
           }else if(win789_sq7){
            Oplaying(7);
           }
           else if(win147_sq7){
            Oplaying(7);
           }else if(win147_sq4){
            Oplaying(4);
           }else if(win147_sq1){
            Oplaying(1);
           }
           else if(win528_sq8){
            Oplaying(8);
           }else if(win528_sq2){
            Oplaying(2);
           }else if(win528_sq5){
            Oplaying(5);
           }
           else if(win693_sq3){
            Oplaying(3);
           }else if(win693_sq9){
            Oplaying(9);
           }else if(win693_sq6){
            Oplaying(6);
           }
           else if(win159_sq9){
            Oplaying(9);
           }else if(win159_sq5){
            Oplaying(5);
           }else if(win159_sq1){
            Oplaying(1);
           }
           else if(win573_sq3){
            Oplaying(3);
           }else if(win573_sq7){
            Oplaying(7);
           }else if(win573_sq5){
            Oplaying(5);
           }         
           else{
            Orandomplay();
           }
           checkwin('O');
         }
         function Orandomplay(){
             if(squaresFilled!=9){
              var randomNumber=Math.floor((Math.random()*9)+1);
             if(painted[randomNumber-1]==false)
             {
                var randomSquare=("canvas"+randomNumber);
                Oplaying(randomNumber);
             }
             else
                 Orandomplay();
               //checkwin('O');
         }
         }
          function Oplaying(canNum){
                   if(squaresFilled==9){
                      turn=0;
                       
                        alert("Game Over");
                        location.reload();
                    }
               console.log("computer");
               var can="canvas"+canNum;
               if(painted[canNum-1]==false){
                c=document.getElementById(can);
                ctx=c.getContext("2d");
                ctx.beginPath();
                ctx.arc(50,50,40,0,Math.PI*2,true);
                ctx.lineWidth=5;
                ctx.strokeStyle="white";
                ctx.stroke();
                ctx.closePath();
                content[canNum-1]='O';
                painted[canNum-1]=true;
                turn++;
                squaresFilled++;
              }
                //checkwin('O');
          }
           function checkwin(symbol){
             winningCombinations=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
             for(var a=0;a<winningCombinations.length;a++){
                if(content[winningCombinations[a][0]]==symbol && content[winningCombinations[a][1]]==symbol &&content[winningCombinations[a][2]]==symbol){
                  winalert(symbol);
        }
         }
           } 
             function winalert(symbol){
               win=true;
               if(symbol=='X'){
                alert("X won");
            }
            else{
                alert("O won");
            }
            playAgain();
         }

        function playAgain(){
            win=true;
            turn=0;
            y=confirm("PLAY AGAIN?");
            
            if(y==true){
                alert("OKAY! ^^/>");
                location.reload();
            }
            else{
                alert("SO LONG");
                location.reload();
        }
        }
        </script>
    </head>
    <body>
        <h1> <span style="color:blue">Tic</span>-<span style="color:white">Tac</span>-<span style="color:red">Toe</span> </h1>
        <div id ="box"  width="300" height="300" align="center">
            <canvas id = "canvas1"  width="100" height="100" style="border:10px solid blue" onclick="canvasClicked(1)"></canvas>
            <canvas id = "canvas2"  width="100" height="100" style="border:10px solid yellow" onclick="canvasClicked(2)"></canvas>
            <canvas id = "canvas3"  width="100" height="100" style="border:10px solid blue" onclick="canvasClicked(3)"></canvas><br/>
            <canvas id = "canvas4"  width="100" height="100" style="border:10px solid yellow" onclick="canvasClicked(4)"></canvas>
            <canvas id = "canvas5"  width="100" height="100" style="border:10px solid yellow" onclick="canvasClicked(5)"></canvas>
            <canvas id = "canvas6"  width="100" height="100" style="border:10px solid yellow" onclick="canvasClicked(6)"></canvas><br/>
            <canvas id = "canvas7"  width="100" height="100" style="border:10px solid blue" onclick="canvasClicked(7)"></canvas>
            <canvas id = "canvas8"  width="100" height="100" style="border:10px solid yellow" onclick="canvasClicked(8)"></canvas>
            <canvas id = "canvas9"  width="100" height="100" style="border:10px solid blue" onclick="canvasClicked(9)"></canvas>
        </div>
    </body>
</html>
